<!DOCTYPE html>
<html lang="en">
    <head>
        <title>ğŸ‘€ğŸ‘€ğŸ‘€Follow Along Nav</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="style.css" rel="stylesheet">
    </head>
    <body>
        
        <nav>
            <ul class="menu">
                <li><a href="">Home</a></li>
                <li><a href="">Order Status</a></li>
                <li><a href="">Tweets</a></li>
                <li><a href="">Read Our History</a></li>
                <li><a href="">Contact Us</a></li>
            </ul>
        </nav>

        <div class="wrapper">
                <p>Lorem ipsum dolor sit amet, <a href="">consectetur</a> adipisicing elit. Est <a href="">explicabo</a> unde natus necessitatibus esse obcaecati distinctio, aut itaque, qui vitae!</p>
                <p>Aspernatur sapiente quae sint <a href="">soluta</a> modi, atque praesentium laborum pariatur earum <a href="">quaerat</a> cupiditate consequuntur facilis ullam dignissimos, aperiam quam veniam.</p>
                <p>Cum ipsam quod, incidunt sit ex <a href="">tempore</a> placeat maxime <a href="">corrupti</a> possimus <a href="">veritatis</a> ipsum fugit recusandae est doloremque? Hic, <a href="">quibusdam</a>, nulla.</p>
                <p>Esse quibusdam, ad, ducimus cupiditate <a href="">nulla</a>, quae magni odit <a href="">totam</a> ut consequatur eveniet sunt quam provident sapiente dicta neque quod.</p>
                <p>Aliquam <a href="">dicta</a> sequi culpa fugiat <a href="">consequuntur</a> pariatur optio ad minima, maxime <a href="">odio</a>, distinctio magni impedit tempore enim repellendus <a href="">repudiandae</a> quas!</p>
        </div>

        <script>
            const triggers = document.querySelectorAll('a');
            const highlight = document.createElement('span');
            highlight.classList.add('highlight');
            document.body.appendChild(highlight);

            function highlightLink(){
                //console.log(this);
                const linkCoords = this.getBoundingClientRect();
                const coords = {
                    width: linkCoords.width,
                    height: linkCoords.height,
                    top: linkCoords.top + window.scrollY,
                    left: linkCoords.left + window.scrollX
                }

                highlight.style.width = `${coords.width}px`;
                highlight.style.height = `${coords.height}px`;
                highlight.style.transform = `translate(${coords.left}px, ${coords.top}px)`;
            }

            triggers.forEach( a => a.addEventListener('mouseenter', highlightLink));

        </script>

        <!--
        <script data-description="my solution">
            /*  åˆ†æè§£ç­”é é¢çš„ç•«é¢: ç§»å‹•åˆ°æŸå€‹anchorä¸Šå°±Heighlightæ­¤å…ƒç´ ä¸¦æœ‰ç§»å‹•çš„ç‰¹æ•ˆ
                1.æ‰€æœ‰anchoréƒ½æ²’æœ‰æ–°å¢ä»»ä½•é¡åˆ¥,åè€Œæ˜¯æœ€åº•ä¸‹å¤šä¸€å€‹spanä¸”é¡åˆ¥æ˜¯heighlightä¸¦ä¸”æœ‰è®Šæ›´inline styleçš„width, height, transform
                2.æ‰€æœ‰anchoréƒ½æœ‰å€‹mouseenter event

                think: ç”¨ä¸€å€‹bodyé–“è½æ‰€æœ‰anchoré‚„æ˜¯æ‰€æœ‰anchoréƒ½è¨­ä¸€å€‹mouseenter event?
            */
            const links = document.querySelectorAll('a');
            const span = document.createElement('span');
            span.classList.add('highlight');
            document.body.appendChild(span);
            /*
            // æ–¹æ³•ä¸€: æ‰€æœ‰anchoréƒ½å»ºç«‹ä¸€å€‹eventListnerä¾†ç›£è½mouseenteräº‹ä»¶
            links.forEach(link => link.addEventListener('mouseenter', e =>{
                //console.log(e.target.textContent);
                //ç•¶æ­¤anchorè¢«è§¸ç™¼æ™‚
                //1. å–å¾—ä½¿å…ƒç´ çš„ä½ç½®èˆ‡é•·å¯¬
                //2. å°‡spanå…ƒç´ (ç”¨ä¾†ç•¶ä½œæ–‡å­—çš„heighlightèƒŒæ™¯)è¨­å®šèˆ‡ç›®å‰å…ƒç´ ç›¸åŒçš„ä½ç½®èˆ‡å¯¬é«˜ä¾†ç•¶ä½œèƒŒæ™¯

                let positionInfo = e.target.getBoundingClientRect();
                span.style.cssText = `width:${positionInfo.width}px; height:${positionInfo.height}px; 
                                      transform: translate(${positionInfo.x + scrollX}px, ${positionInfo.y + window.scrollY}px)`;
                //console.log(span);
            }));
            */
            //æ–¹æ³•äºŒ: ä½¿ç”¨ä¸€å€‹eventé–“è½æ‰€æœ‰çš„anchor
            let currentDOM = null;
            document.addEventListener('mousemove', e => {
                //è‹¥ç›®æ¨™æ˜¯anchorä¸”éè·Ÿä¹‹å‰è¨˜éŒ„çš„ä¸€æ¨£çš„å°±æ›
                if(e.target instanceof HTMLAnchorElement && currentDOM !== e.target){
                    currentDOM = e.target;
                    console.log('got it',e.target.textContent);
                    let positionInfo = e.target.getBoundingClientRect();
                    span.style.cssText = `width:${positionInfo.width}px; height:${positionInfo.height}px;  
                                          transform: translate(${positionInfo.x + window.scrollX}px, ${positionInfo.y + window.scrollY}px);`;
                }
            });
        </script>
        -->
    </body>
</html>